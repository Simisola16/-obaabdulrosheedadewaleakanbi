<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel - Oluwo of Iwoland</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --gold: #D4AF37;
            --red: #A52A2A;
            --white: #FFFFFF;
            --dark-red: #8B0000;
            --light-gold: #E6C567;
            --dark-gold: #B8860B;
            --light-gray: #f5f5f5;
            --dark-gray: #333;
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: var(--light-gray);
            color: var(--dark-gray);
            line-height: 1.6;
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header Styles */
        header {
            background: linear-gradient(135deg, var(--red), var(--dark-red));
            color: var(--white);
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
            backdrop-filter: blur(10px);
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 0;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .logo-icon {
            font-size: 3rem;
            color: var(--gold);
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }

        .logo-text h1 {
            font-size: 1.2rem;
            font-weight: 700;
            margin-bottom: 2px;
            text-shadow: 0 1px 2px rgba(0,0,0,0.3);
        }

        .logo-text p {
            font-size: 0.95rem;
            opacity: 0.9;
            font-weight: 500;
        }

        /* Added styles for logo image */
        .logo-image img {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            border: 3px solid var(--gold);
            box-shadow: 0 4px 15px rgba(212, 175, 55, 0.4);
            transition: all 0.3s ease;
        }

        .logo-image img:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 20px rgba(212, 175, 55, 0.6);
        }

        nav ul {
            display: flex;
            list-style: none;
            gap: 30px;
            align-items: center;
        }

        nav a {
            color: var(--white);
            text-decoration: none;
            font-weight: 500;
            font-size: 1rem;
            transition: all 0.3s ease;
            padding: 8px 16px;
            border-radius: 25px;
            position: relative;
            overflow: hidden;
        }

        nav a::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }

        nav a:hover::before {
            left: 100%;
        }

        nav a:hover {
            background: rgba(255, 255, 255, 0.15);
            color: var(--gold);
            transform: translateY(-2px);
        }

        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            color: var(--white);
            font-size: 1.8rem;
            cursor: pointer;
            padding: 8px;
            border-radius: 50%;
            transition: all 0.3s ease;
        }

        .mobile-menu-btn:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: scale(1.1);
        }

        /* Login Form */
        .login-container {
            max-width: 400px;
            margin: 100px auto;
            background: var(--white);
            padding: 40px;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            transform: translateY(20px);
            opacity: 0;
            animation: fadeInUp 0.5s ease forwards;
            transition: var(--transition);
        }

        .login-container:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0,0,0,0.15);
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .login-container h2 {
            text-align: center;
            margin-bottom: 30px;
            color: var(--dark-red);
            position: relative;
            padding-bottom: 15px;
        }

        .login-container h2::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 50px;
            height: 3px;
            background: var(--gold);
            border-radius: 2px;
        }

        .form-group {
            margin-bottom: 20px;
            position: relative;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--dark-gray);
            transition: var(--transition);
        }

        .form-group input {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #ddd;
            border-radius: 5px;
            font-size: 1rem;
            transition: var(--transition);
        }

        .form-group input:focus {
            border-color: var(--gold);
            outline: none;
            box-shadow: 0 0 0 3px rgba(212, 175, 55, 0.2);
        }

        .btn {
            padding: 12px 20px;
            background: var(--red);
            color: var(--white);
            border: none;
            border-radius: 5px;
            font-size: 1rem;
            cursor: pointer;
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }

        .btn-full {
            width: 100%;
        }

        .btn::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 5px;
            height: 5px;
            background: rgba(255, 255, 255, 0.5);
            opacity: 0;
            border-radius: 100%;
            transform: scale(1, 1) translate(-50%);
            transform-origin: 50% 50%;
        }

        .btn:hover {
            background: var(--dark-red);
            transform: translateY(-2px);
        }

        .btn:active::after {
            animation: ripple 1s ease-out;
        }

        @keyframes ripple {
            0% {
                transform: scale(0, 0);
                opacity: 0.5;
            }
            100% {
                transform: scale(20, 20);
                opacity: 0;
            }
        }

        .btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
        }

        .btn-secondary {
            background: var(--dark-gold);
        }

        .btn-secondary:hover {
            background: var(--gold);
        }

        .btn-danger {
            background: var(--red);
        }

        .btn-danger:hover {
            background: var(--dark-red);
        }

        .error {
            color: var(--red);
            margin-top: 10px;
            text-align: center;
            animation: shake 0.5s ease;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            20%, 60% { transform: translateX(-5px); }
            40%, 80% { transform: translateX(5px); }
        }

        /* Admin Panel */
        .admin-panel {
            display: none;
            opacity: 0;
            animation: fadeIn 0.5s ease forwards;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .tabs {
            display: flex;
            margin-bottom: 30px;
            border-bottom: 2px solid var(--gold);
            overflow-x: auto;
            scrollbar-width: none;
        }

        .tabs::-webkit-scrollbar {
            display: none;
        }

        .tab-btn {
            padding: 15px 30px;
            background: none;
            border: none;
            cursor: pointer;
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--dark-gray);
            border-bottom: 3px solid transparent;
            transition: var(--transition);
            white-space: nowrap;
            position: relative;
        }

        .tab-btn::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 0;
            height: 3px;
            background: var(--gold);
            transition: var(--transition);
        }

        .tab-btn:hover::after {
            width: 100%;
        }

        .tab-btn.active {
            color: var(--red);
        }

        .tab-btn.active::after {
            width: 100%;
        }

        .tab-content {
            display: none;
            background: var(--white);
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transform: translateY(10px);
            opacity: 0;
            transition: var(--transition);
        }

        .tab-content.active {
            display: block;
            animation: tabFadeIn 0.4s ease forwards;
        }

        @keyframes tabFadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .form-row {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
        }

        .form-row .form-group {
            flex: 1;
        }

        .file-input {
            border: 2px dashed #ddd;
            padding: 30px 20px;
            text-align: center;
            border-radius: 5px;
            cursor: pointer;
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }

        .file-input:hover {
            border-color: var(--gold);
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .file-input i {
            font-size: 2rem;
            color: var(--gold);
            margin-bottom: 10px;
            transition: var(--transition);
        }

        .file-input:hover i {
            transform: scale(1.1);
        }

        .file-input input {
            display: none;
        }

        .preview {
            margin-top: 15px;
            max-width: 200px;
            border-radius: 5px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
            transition: var(--transition);
        }

        .preview:hover {
            transform: scale(1.02);
        }

        .gallery-upload {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 20px;
        }

        .gallery-item {
            border: 2px dashed #ddd;
            padding: 20px;
            text-align: center;
            border-radius: 5px;
            cursor: pointer;
            transition: var(--transition);
            position: relative;
        }

        .gallery-item:hover {
            border-color: var(--gold);
            transform: translateY(-3px);
        }

        .gallery-item input {
            display: none;
        }

        .logout-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            padding: 10px 20px;
            background: var(--red);
            color: var(--white);
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: var(--transition);
            z-index: 10;
        }

        .logout-btn:hover {
            background: var(--dark-red);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }

        .gallery-previews {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 20px;
        }

        .gallery-preview-item {
            position: relative;
            width: 150px;
            height: 150px;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            transition: var(--transition);
            animation: scaleIn 0.3s ease;
        }

        @keyframes scaleIn {
            from {
                opacity: 0;
                transform: scale(0.8);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        .gallery-preview-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .gallery-preview-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: var(--transition);
        }

        .gallery-preview-item:hover img {
            transform: scale(1.05);
        }

        .gallery-preview-item .remove-btn {
            position: absolute;
            top: 5px;
            right: 5px;
            background: var(--red);
            color: white;
            border: none;
            border-radius: 50%;
            width: 25px;
            height: 25px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
            opacity: 0;
        }

        .gallery-preview-item:hover .remove-btn {
            opacity: 1;
        }

        .remove-btn:hover {
            background: var(--dark-red);
            transform: scale(1.1);
        }

        /* Success/Error Messages */
        #hero-message, #news-message, #activities-message, #gallery-message {
            margin-top: 15px;
            padding: 10px;
            border-radius: 5px;
            text-align: center;
            font-weight: 500;
            animation: fadeIn 0.5s ease;
        }

        /* Loading animation */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255,255,255,0.3);
            border-radius: 50%;
            border-top-color: #fff;
            animation: spin 1s ease-in-out infinite;
            margin-right: 10px;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Textarea styling */
        textarea {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #ddd;
            border-radius: 5px;
            font-size: 1rem;
            resize: vertical;
            min-height: 100px;
            transition: var(--transition);
            font-family: inherit;
        }

        textarea:focus {
            border-color: var(--gold);
            outline: none;
            box-shadow: 0 0 0 3px rgba(212, 175, 55, 0.2);
        }

        /* Select styling */
        select {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #ddd;
            border-radius: 5px;
            font-size: 1rem;
            background-color: white;
            transition: var(--transition);
        }

        select:focus {
            border-color: var(--gold);
            outline: none;
            box-shadow: 0 0 0 3px rgba(212, 175, 55, 0.2);
        }

        /* Item list styles */
        .items-container {
            margin-top: 30px;
            border-top: 2px solid var(--light-gold);
            padding-top: 20px;
        }

        .items-container h4 {
            margin-bottom: 15px;
            color: var(--dark-red);
            font-size: 1.2rem;
            padding-bottom: 5px;
            border-bottom: 1px solid #eee;
        }

        .item-card {
            background: var(--light-gray);
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 15px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            transition: var(--transition);
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(-10px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .item-card:hover {
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transform: translateY(-2px);
        }

        .item-card .form-group {
            margin-bottom: 15px;
        }

        .item-card img {
            max-width: 200px;
            border-radius: 5px;
            margin-bottom: 10px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .item-actions {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        .item-message {
            margin-top: 10px;
            font-size: 0.9rem;
            padding: 5px;
            border-radius: 4px;
            text-align: center;
        }

        /* Animation for item removal */
        @keyframes slideOut {
            to {
                opacity: 0;
                transform: translateX(100px);
            }
        }

        .removing {
            animation: slideOut 0.3s ease forwards;
        }

        /* Confirmation dialog */
        .confirmation-dialog {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.7);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 2000;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
        }

        .confirmation-dialog.active {
            opacity: 1;
            visibility: visible;
        }

        .confirmation-content {
            background: var(--white);
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            max-width: 400px;
            width: 90%;
            transform: scale(0.9);
            transition: var(--transition);
            text-align: center;
        }

        .confirmation-dialog.active .confirmation-content {
            transform: scale(1);
        }

        .confirmation-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 20px;
        }

        @media (max-width: 992px) {
            .header-content {
                flex-direction: column;
                gap: 20px;
            }

            .logo {
                justify-content: center;
            }

            .logo-text h1 {
                font-size: 1rem;
            }

            .logo-text p {
                font-size: 0.85rem;
            }
        }

        @media (max-width: 768px) {
            nav ul {
                display: none;
                position: absolute;
                top: 100%;
                left: 0;
                width: 100%;
                background: var(--dark-red);
                flex-direction: column;
                padding: 30px;
                gap: 20px;
                box-shadow: 0 5px 20px rgba(0, 0, 0, 0.15);
            }

            nav ul.show {
                display: flex;
            }

            .mobile-menu-btn {
                display: block;
            }

            .form-row {
                flex-direction: column;
            }

            .tabs {
                flex-direction: column;
            }

            .tab-btn {
                border-bottom: none;
                border-left: 3px solid transparent;
                text-align: left;
                padding: 12px 20px;
            }

            .tab-btn::after {
                content: none;
            }

            .tab-btn.active {
                border-left-color: var(--gold);
                border-bottom-color: transparent;
            }

            .logout-btn {
                position: relative;
                top: 0;
                right: 0;
                margin-bottom: 20px;
                width: 100%;
            }

            .logo-text h1 {
                font-size: 1rem;
            }

            .logo-text p {
                font-size: 0.85rem;
            }

            .item-actions {
                flex-direction: column;
            }

            .confirmation-content {
                padding: 20px;
            }

            .confirmation-buttons {
                flex-direction: column;
            }
        }

        @media (max-width: 576px) {
            .container {
                padding: 15px;
            }

            .login-container {
                margin: 50px auto;
                padding: 30px 20px;
            }

            .logo-image img {
                width: 60px;
                height: 60px;
            }

            .logo-icon {
                font-size: 2.5rem;
            }

            .item-card {
                padding: 15px;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="header-content">
            <div class="container logo">
                <div class="logo-image">
                    <img src="/image/oluwo_logo-removebg-preview.png" alt="Oluwo Logo">
                </div>
                <div class="logo-text">
                    <h1>His Royal Majesty, Oba Abdulrosheed Adewale Akanbi</h1>
                    <p>Oluwo of Iwoland</p>
                </div>
            </div>

            <nav class="container">
                <ul id="nav-menu">
                    <li><a href="/index.html"><i class="fas fa-home"></i> Home</a></li>
                    <li><a href="/pages/about.html"><i class="fas fa-info-circle"></i> About</a></li>
                    <li><a href="/pages/activities.html"><i class="fas fa-calendar-alt"></i> Activities</a></li>
                    <li><a href="/pages/gallery.html"><i class="fas fa-images"></i> Gallery</a></li>
                    <li><a href="/pages/news.html"><i class="fas fa-newspaper"></i> News</a></li>
                    <li><a href="/pages/contact.html"><i class="fas fa-envelope"></i> Contact</a></li>
                    <li><a href="/admin.html"><i class="fas fa-user-shield"></i> Admin</a></li>
                </ul>
                <button class="mobile-menu-btn" id="mobile-menu">
                    <i class="fas fa-bars"></i>
                </button>
            </nav>
        </div>
    </header>

    <div class="container">
        <!-- Login Form -->
        <div id="login-container" class="login-container">
            <h2>Admin Login</h2>
            <form id="login-form">
                <div class="form-group">
                    <label for="email">Email</label>
                    <input type="email" id="email" required>
                </div>
                <div class="form-group">
                    <label for="password">Password</label>
                    <input type="password" id="password" required>
                </div>
                <button type="submit" class="btn btn-full">Login</button>
            </form>
            <div id="login-error" class="error"></div>
        </div>

        <!-- Admin Panel -->
        <div id="admin-panel" class="admin-panel">
            <button class="logout-btn" id="logout-btn">Logout</button>

            <div class="tabs">
                <button class="tab-btn active" data-tab="hero">Hero Image</button>
                <button class="tab-btn" data-tab="news">News Feed</button>
                <button class="tab-btn" data-tab="activities">Activities</button>
                <button class="tab-btn" data-tab="gallery">Gallery</button>
            </div>

            <!-- Hero Image Tab -->
            <div id="hero" class="tab-content active">
                <h3>Change Hero Image</h3>
                <form id="hero-form">
                    <div class="form-group">
                        <label class="file-input">
                            <i class="fas fa-cloud-upload-alt"></i>
                            <p>Click to select hero image</p>
                            <input type="file" id="hero-image" accept="image/*" required>
                        </label>
                        <img id="hero-preview" class="preview" style="display: none;">
                    </div>
                    <button type="submit" class="btn btn-full">Update Hero Image</button>
                </form>
                <div id="hero-message"></div>
                
                <div class="items-container">
                    <h4>Current Hero Image</h4>
                    <div id="hero-item-container"></div>
                </div>
            </div>

            <!-- News Tab -->
            <div id="news" class="tab-content">
                <h3>Add News Item</h3>
                <form id="news-form">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="news-title">Title</label>
                            <input type="text" id="news-title" required>
                        </div>
                        <div class="form-group">
                            <label for="news-badge">Badge</label>
                            <input type="text" id="news-badge" placeholder="e.g., Royal" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="news-date">Date</label>
                        <input type="date" id="news-date" required>
                    </div>
                    <div class="form-group">
                        <label for="news-excerpt">Excerpt</label>
                        <textarea id="news-excerpt" rows="3" required></textarea>
                    </div>
                    <div class="form-group">
                        <label class="file-input">
                            <i class="fas fa-cloud-upload-alt"></i>
                            <p>Click to select news image</p>
                            <input type="file" id="news-image" accept="image/*" required>
                        </label>
                        <img id="news-preview" class="preview" style="display: none;">
                    </div>
                    <button type="submit" class="btn btn-full">Add News Item</button>
                </form>
                <div id="news-message"></div>
                
                <div class="items-container">
                    <h4>Existing News Items</h4>
                    <div id="news-items-container"></div>
                </div>
            </div>

            <!-- Activities Tab -->
            <div id="activities" class="tab-content">
                <h3>Add Activity</h3>
                <form id="activities-form">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="activity-title">Title</label>
                            <input type="text" id="activity-title" required>
                        </div>
                        <div class="form-group">
                            <label for="activity-status">Status</label>
                            <select id="activity-status" required>
                                <option value="upcoming">Upcoming</option>
                                <option value="past">Past</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="activity-date">Date</label>
                        <input type="text" id="activity-date" placeholder="e.g., January 2024" required>
                    </div>
                    <div class="form-group">
                        <label for="activity-desc">Description</label>
                        <textarea id="activity-desc" rows="3" required></textarea>
                    </div>
                    <div class="form-group">
                        <label class="file-input">
                            <i class="fas fa-cloud-upload-alt"></i>
                            <p>Click to select activity image</p>
                            <input type="file" id="activity-image" accept="image/*" required>
                        </label>
                        <img id="activity-preview" class="preview" style="display: none;">
                    </div>
                    <button type="submit" class="btn btn-full">Add Activity</button>
                </form>
                <div id="activities-message"></div>
                
                <div class="items-container">
                    <h4>Existing Activities</h4>
                    <div id="activities-items-container"></div>
                </div>
            </div>

            <!-- Gallery Tab -->
            <div id="gallery" class="tab-content">
                <h3>Add Gallery Images</h3>
                <form id="gallery-form">
                    <div class="form-group">
                        <label class="file-input" id="gallery-upload-label">
                            <i class="fas fa-cloud-upload-alt"></i>
                            <p>Click to select gallery images (multiple allowed)</p>
                            <input type="file" id="gallery-input" accept="image/*" multiple required>
                        </label>
                    </div>
                    <div id="gallery-previews" class="gallery-previews"></div>
                    <button type="submit" class="btn btn-full" style="margin-top: 20px;">Upload Gallery Images</button>
                </form>
                <div id="gallery-message"></div>
                
                <div class="items-container">
                    <h4>Existing Gallery Images</h4>
                    <div id="gallery-items-container" class="gallery-previews"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Confirmation Dialog -->
    <div class="confirmation-dialog" id="confirmation-dialog">
        <div class="confirmation-content">
            <h3>Confirm Deletion</h3>
            <p>Are you sure you want to delete this item? This action cannot be undone.</p>
            <div class="confirmation-buttons">
                <button class="btn btn-secondary" id="cancel-delete">Cancel</button>
                <button class="btn btn-danger" id="confirm-delete">Delete</button>
            </div>
        </div>
    </div>

    <!-- Firebase Scripts -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/12.2.1/firebase-app.js";
        import { getAuth, signInWithEmailAndPassword, signOut, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/12.2.1/firebase-auth.js";
        import { getFirestore, doc, setDoc, collection, addDoc, getDocs, getDoc, deleteDoc, updateDoc, serverTimestamp } from "https://www.gstatic.com/firebasejs/12.2.1/firebase-firestore.js";

        const firebaseConfig = {
            apiKey: "AIzaSyBaQDRdl5mmCsCkL4kf6r_rNrL-m-s6_cg",
            authDomain: "oluwo-iwo.firebaseapp.com",
            projectId: "oluwo-iwo",
            storageBucket: "oluwo-iwo.firebasestorage.app",
            messagingSenderId: "432608907887",
            appId: "1:432608907887:web:d51e88237a7097b68fb39a",
            measurementId: "G-D364X8Z8Q2"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);

        const loginContainer = document.getElementById('login-container');
        const adminPanel = document.getElementById('admin-panel');
        const loginForm = document.getElementById('login-form');
        const logoutBtn = document.getElementById('logout-btn');
        const confirmationDialog = document.getElementById('confirmation-dialog');
        const cancelDeleteBtn = document.getElementById('cancel-delete');
        const confirmDeleteBtn = document.getElementById('confirm-delete');

        // Store the item to be deleted
        let itemToDelete = null;

        // Show confirmation dialog
        function showConfirmationDialog(item) {
            itemToDelete = item;
            confirmationDialog.classList.add('active');
        }

        // Hide confirmation dialog
        function hideConfirmationDialog() {
            confirmationDialog.classList.remove('active');
            itemToDelete = null;
        }

        // Event listeners for confirmation dialog
        cancelDeleteBtn.addEventListener('click', hideConfirmationDialog);
        confirmDeleteBtn.addEventListener('click', async () => {
            if (itemToDelete) {
                const { type, id } = itemToDelete;
                try {
                    await deleteDoc(doc(db, type, id));
                    
                    // Animate removal
                    const itemElement = document.querySelector(`[data-id="${id}"]`);
                    if (itemElement) {
                        itemElement.classList.add('removing');
                        setTimeout(() => {
                            itemElement.remove();
                        }, 300);
                    }
                    
                    hideConfirmationDialog();
                } catch (error) {
                    console.error('Error deleting item:', error);
                    hideConfirmationDialog();
                }
            }
        });

        // Check auth state
        onAuthStateChanged(auth, (user) => {
            if (user) {
                loginContainer.style.display = 'none';
                adminPanel.style.display = 'block';
                adminPanel.style.opacity = 0;
                setTimeout(() => {
                    adminPanel.style.opacity = 1;
                }, 10);
                
                // Load all data
                fetchHeroImage();
                fetchNewsItems();
                fetchActivities();
                fetchGalleryImages();
            } else {
                loginContainer.style.display = 'block';
                adminPanel.style.display = 'none';
            }
        });

        // Login
        loginForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;
            const submitBtn = loginForm.querySelector('.btn');
            const originalText = submitBtn.textContent;

            submitBtn.innerHTML = '<span class="loading"></span> Logging in...';
            submitBtn.disabled = true;

            try {
                await signInWithEmailAndPassword(auth, email, password);
                document.getElementById('login-error').textContent = '';
            } catch (error) {
                document.getElementById('login-error').textContent = 'Invalid credentials';
                submitBtn.innerHTML = originalText;
                submitBtn.disabled = false;
            }
        });

        // Logout
        logoutBtn.addEventListener('click', async () => {
            logoutBtn.innerHTML = '<span class="loading"></span> Logging out...';
            logoutBtn.disabled = true;
            await signOut(auth);
            logoutBtn.innerHTML = 'Logout';
            logoutBtn.disabled = false;
        });

        // Tab switching
        document.querySelectorAll('.tab-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
                document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
                btn.classList.add('active');
                document.getElementById(btn.dataset.tab).classList.add('active');
            });
        });

        // Convert file to base64
        function fileToBase64(file) {
            return new Promise((resolve, reject) => {
                const reader = new FileReader();
                reader.readAsDataURL(file);
                reader.onload = () => resolve(reader.result);
                reader.onerror = error => reject(error);
            });
        }

        // File preview functions
        function previewImage(input, preview) {
            input.addEventListener('change', (e) => {
                const file = e.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = (e) => {
                        preview.src = e.target.result;
                        preview.style.display = 'block';
                    };
                    reader.readAsDataURL(file);
                }
            });
        }

        previewImage(document.getElementById('hero-image'), document.getElementById('hero-preview'));
        previewImage(document.getElementById('news-image'), document.getElementById('news-preview'));
        previewImage(document.getElementById('activity-image'), document.getElementById('activity-preview'));

        // Hero form
        document.getElementById('hero-form').addEventListener('submit', async (e) => {
            e.preventDefault();
            const file = document.getElementById('hero-image').files[0];
            if (!file) return;

            const message = document.getElementById('hero-message');
            const submitBtn = document.querySelector('#hero-form .btn');
            const originalText = submitBtn.textContent;

            submitBtn.innerHTML = '<span class="loading"></span> Uploading...';
            submitBtn.disabled = true;
            message.textContent = '';

            try {
                // Check if user is authenticated
                const user = auth.currentUser;
                if (!user) {
                    throw new Error('User not authenticated. Please log in again.');
                }

                // Convert image to base64
                const base64Image = await fileToBase64(file);

                // Store in Firestore
                await setDoc(doc(db, 'settings', 'hero'), {
                    url: base64Image,
                    fileName: file.name,
                    fileSize: file.size,
                    uploadedAt: serverTimestamp()
                });

                message.textContent = 'Hero image updated successfully!';
                message.style.color = 'green';
                submitBtn.innerHTML = originalText;
                submitBtn.disabled = false;

                // Refresh hero image display
                fetchHeroImage();
            } catch (error) {
                console.error('Hero upload error:', error);
                message.textContent = `Error updating hero image: ${error.message}`;
                message.style.color = 'red';
                submitBtn.innerHTML = originalText;
                submitBtn.disabled = false;
            }
        });

        // Fetch and display current hero image with option to replace
        async function fetchHeroImage() {
            const heroContainer = document.getElementById('hero-item-container');
            heroContainer.innerHTML = '';
            
            const heroDocRef = doc(db, 'settings', 'hero');
            try {
                const heroDocSnap = await getDoc(heroDocRef);
                if (heroDocSnap.exists()) {
                    const heroData = heroDocSnap.data();
                    
                    const heroItemDiv = document.createElement('div');
                    heroItemDiv.className = 'item-card';
                    heroItemDiv.dataset.id = 'hero';
                    heroItemDiv.dataset.type = 'settings';
                    
                    heroItemDiv.innerHTML = `
                        <div class="form-group">
                            <img src="${heroData.url}" alt="Hero Image" style="max-width: 100%;">
                        </div>
                        <div class="item-actions">
                            <button class="btn btn-danger delete-item-btn">Delete Hero Image</button>
                        </div>
                        <div class="item-message"></div>
                    `;
                    
                    heroContainer.appendChild(heroItemDiv);
                    
                    // Delete button handler
                    heroItemDiv.querySelector('.delete-item-btn').addEventListener('click', () => {
                        showConfirmationDialog({
                            type: 'settings',
                            id: 'hero'
                        });
                    });
                }
            } catch (error) {
                console.error('Error fetching hero image:', error);
            }
        }

        // News form
        document.getElementById('news-form').addEventListener('submit', async (e) => {
            e.preventDefault();
            const title = document.getElementById('news-title').value;
            const badge = document.getElementById('news-badge').value;
            const date = document.getElementById('news-date').value;
            const excerpt = document.getElementById('news-excerpt').value;
            const file = document.getElementById('news-image').files[0];

            if (!file) return;

            const message = document.getElementById('news-message');
            const submitBtn = document.querySelector('#news-form .btn');
            const originalText = submitBtn.textContent;

            submitBtn.innerHTML = '<span class="loading"></span> Uploading...';
            submitBtn.disabled = true;
            message.textContent = '';

            try {
                // Convert image to base64
                const base64Image = await fileToBase64(file);

                await addDoc(collection(db, 'news'), {
                    title,
                    badge,
                    date: new Date(date),
                    excerpt,
                    image: base64Image,
                    createdAt: serverTimestamp()
                });

                message.textContent = 'News item added successfully!';
                message.style.color = 'green';
                document.getElementById('news-form').reset();
                document.getElementById('news-preview').style.display = 'none';
                submitBtn.innerHTML = originalText;
                submitBtn.disabled = false;
                
                // Refresh news items
                fetchNewsItems();
            } catch (error) {
                console.error('News upload error:', error);
                message.textContent = `Error adding news item: ${error.message}`;
                message.style.color = 'red';
                submitBtn.innerHTML = originalText;
                submitBtn.disabled = false;
            }
        });

        // Fetch and render existing news items for editing and deleting
        async function fetchNewsItems() {
            const newsContainer = document.getElementById('news-items-container');
            newsContainer.innerHTML = '';

            try {
                const newsCollection = collection(db, 'news');
                const newsSnapshot = await getDocs(newsCollection);

                newsSnapshot.forEach(docSnap => {
                    const newsData = docSnap.data();
                    const newsId = docSnap.id;

                    const newsItemDiv = document.createElement('div');
                    newsItemDiv.className = 'item-card';
                    newsItemDiv.dataset.id = newsId;
                    newsItemDiv.dataset.type = 'news';
                    newsItemDiv.style.animationDelay = `${newsSnapshot.docs.indexOf(docSnap) * 0.1}s`;

                    newsItemDiv.innerHTML = `
                        <div class="form-group">
                            <label>Title</label>
                            <input type="text" class="edit-news-title" value="${newsData.title}" placeholder="Title">
                        </div>
                        <div class="form-group">
                            <label>Badge</label>
                            <input type="text" class="edit-news-badge" value="${newsData.badge}" placeholder="Badge">
                        </div>
                        <div class="form-group">
                            <label>Date</label>
                            <input type="date" class="edit-news-date" value="${newsData.date.toDate().toISOString().split('T')[0]}">
                        </div>
                        <div class="form-group">
                            <label>Excerpt</label>
                            <textarea class="edit-news-excerpt" rows="3">${newsData.excerpt}</textarea>
                        </div>
                        <div class="form-group">
                            <img src="${newsData.image}" alt="News Image" style="max-width: 200px;">
                        </div>
                        <div class="item-actions">
                            <button class="btn btn-secondary update-item-btn">Update</button>
                            <button class="btn btn-danger delete-item-btn">Delete</button>
                        </div>
                        <div class="item-message"></div>
                    `;

                    newsContainer.appendChild(newsItemDiv);

                    // Update button handler
                    newsItemDiv.querySelector('.update-item-btn').addEventListener('click', async () => {
                        const updatedTitle = newsItemDiv.querySelector('.edit-news-title').value;
                        const updatedBadge = newsItemDiv.querySelector('.edit-news-badge').value;
                        const updatedDate = newsItemDiv.querySelector('.edit-news-date').value;
                        const updatedExcerpt = newsItemDiv.querySelector('.edit-news-excerpt').value;
                        const messageDiv = newsItemDiv.querySelector('.item-message');

                        try {
                            await updateDoc(doc(db, 'news', newsId), {
                                title: updatedTitle,
                                badge: updatedBadge,
                                date: new Date(updatedDate),
                                excerpt: updatedExcerpt,
                                image: newsData.image,
                                createdAt: newsData.createdAt || serverTimestamp()
                            });

                            messageDiv.textContent = 'News item updated successfully!';
                            messageDiv.style.color = 'green';
                            
                            // Clear message after 3 seconds
                            setTimeout(() => {
                                messageDiv.textContent = '';
                            }, 3000);
                        } catch (error) {
                            console.error('Error updating news item:', error);
                            messageDiv.textContent = 'Error updating news item.';
                            messageDiv.style.color = 'red';
                        }
                    });

                    // Delete button handler
                    newsItemDiv.querySelector('.delete-item-btn').addEventListener('click', () => {
                        showConfirmationDialog({
                            type: 'news',
                            id: newsId
                        });
                    });
                });
            } catch (error) {
                console.error('Error fetching news items:', error);
            }
        }

        // Activities form
        document.getElementById('activities-form').addEventListener('submit', async (e) => {
            e.preventDefault();
            const title = document.getElementById('activity-title').value;
            const status = document.getElementById('activity-status').value;
            const date = document.getElementById('activity-date').value;
            const desc = document.getElementById('activity-desc').value;
            const file = document.getElementById('activity-image').files[0];

            if (!file) return;

            const message = document.getElementById('activities-message');
            const submitBtn = document.querySelector('#activities-form .btn');
            const originalText = submitBtn.textContent;

            submitBtn.innerHTML = '<span class="loading"></span> Uploading...';
            submitBtn.disabled = true;
            message.textContent = '';

            try {
                // Convert image to base64
                const base64Image = await fileToBase64(file);

                await addDoc(collection(db, 'activities'), {
                    title,
                    status,
                    date,
                    desc,
                    image: base64Image,
                    createdAt: serverTimestamp()
                });

                message.textContent = 'Activity added successfully!';
                message.style.color = 'green';
                document.getElementById('activities-form').reset();
                document.getElementById('activity-preview').style.display = 'none';
                submitBtn.innerHTML = originalText;
                submitBtn.disabled = false;
                
                // Refresh activities
                fetchActivities();
            } catch (error) {
                console.error('Activity upload error:', error);
                message.textContent = `Error adding activity: ${error.message}`;
                message.style.color = 'red';
                submitBtn.innerHTML = originalText;
                submitBtn.disabled = false;
            }
        });

        // Fetch and render existing activities for editing and deleting
        async function fetchActivities() {
            const activitiesContainer = document.getElementById('activities-items-container');
            activitiesContainer.innerHTML = '';

            try {
                const activitiesCollection = collection(db, 'activities');
                const activitiesSnapshot = await getDocs(activitiesCollection);

                activitiesSnapshot.forEach(docSnap => {
                    const activityData = docSnap.data();
                    const activityId = docSnap.id;

                    const activityItemDiv = document.createElement('div');
                    activityItemDiv.className = 'item-card';
                    activityItemDiv.dataset.id = activityId;
                    activityItemDiv.dataset.type = 'activities';
                    activityItemDiv.style.animationDelay = `${activitiesSnapshot.docs.indexOf(docSnap) * 0.1}s`;

                    activityItemDiv.innerHTML = `
                        <div class="form-group">
                            <label>Title</label>
                            <input type="text" class="edit-activity-title" value="${activityData.title}" placeholder="Title">
                        </div>
                        <div class="form-group">
                            <label>Status</label>
                            <select class="edit-activity-status">
                                <option value="upcoming" ${activityData.status === 'upcoming' ? 'selected' : ''}>Upcoming</option>
                                <option value="past" ${activityData.status === 'past' ? 'selected' : ''}>Past</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Date</label>
                            <input type="text" class="edit-activity-date" value="${activityData.date}" placeholder="Date">
                        </div>
                        <div class="form-group">
                            <label>Description</label>
                            <textarea class="edit-activity-desc" rows="3">${activityData.desc}</textarea>
                        </div>
                        <div class="form-group">
                            <img src="${activityData.image}" alt="Activity Image" style="max-width: 200px;">
                        </div>
                        <div class="item-actions">
                            <button class="btn btn-secondary update-item-btn">Update</button>
                            <button class="btn btn-danger delete-item-btn">Delete</button>
                        </div>
                        <div class="item-message"></div>
                    `;

                    activitiesContainer.appendChild(activityItemDiv);

                    // Update button handler
                    activityItemDiv.querySelector('.update-item-btn').addEventListener('click', async () => {
                        const updatedTitle = activityItemDiv.querySelector('.edit-activity-title').value;
                        const updatedStatus = activityItemDiv.querySelector('.edit-activity-status').value;
                        const updatedDate = activityItemDiv.querySelector('.edit-activity-date').value;
                        const updatedDesc = activityItemDiv.querySelector('.edit-activity-desc').value;
                        const messageDiv = activityItemDiv.querySelector('.item-message');

                        try {
                            await updateDoc(doc(db, 'activities', activityId), {
                                title: updatedTitle,
                                status: updatedStatus,
                                date: updatedDate,
                                desc: updatedDesc,
                                image: activityData.image,
                                createdAt: activityData.createdAt || serverTimestamp()
                            });

                            messageDiv.textContent = 'Activity updated successfully!';
                            messageDiv.style.color = 'green';
                            
                            // Clear message after 3 seconds
                            setTimeout(() => {
                                messageDiv.textContent = '';
                            }, 3000);
                        } catch (error) {
                            console.error('Error updating activity:', error);
                            messageDiv.textContent = 'Error updating activity.';
                            messageDiv.style.color = 'red';
                        }
                    });

                    // Delete button handler
                    activityItemDiv.querySelector('.delete-item-btn').addEventListener('click', () => {
                        showConfirmationDialog({
                            type: 'activities',
                            id: activityId
                        });
                    });
                });
            } catch (error) {
                console.error('Error fetching activities:', error);
            }
        }

        // Gallery upload handling
        const galleryInput = document.getElementById('gallery-input');
        const galleryPreviews = document.getElementById('gallery-previews');
        let selectedFiles = [];

        galleryInput.addEventListener('change', (e) => {
            const files = Array.from(e.target.files);
            
            // Clear previous previews if starting fresh
            if (selectedFiles.length === 0) {
                galleryPreviews.innerHTML = '';
            }
            
            // Add new files to our selection
            selectedFiles = [...selectedFiles, ...files];
            
            // Update previews
            updateGalleryPreviews();
        });

        function updateGalleryPreviews() {
            galleryPreviews.innerHTML = '';
            
            selectedFiles.forEach((file, index) => {
                const reader = new FileReader();
                reader.onload = (e) => {
                    const previewItem = document.createElement('div');
                    previewItem.className = 'gallery-preview-item';
                    
                    const img = document.createElement('img');
                    img.src = e.target.result;
                    img.alt = file.name;
                    
                    const removeBtn = document.createElement('button');
                    removeBtn.className = 'remove-btn';
                    removeBtn.innerHTML = '&times;';
                    removeBtn.onclick = () => removeGalleryImage(index);
                    
                    previewItem.appendChild(img);
                    previewItem.appendChild(removeBtn);
                    galleryPreviews.appendChild(previewItem);
                };
                reader.readAsDataURL(file);
            });
        }

        function removeGalleryImage(index) {
            selectedFiles.splice(index, 1);
            updateGalleryPreviews();
        }

        // Gallery form submission
        document.getElementById('gallery-form').addEventListener('submit', async (e) => {
            e.preventDefault();
            
            if (selectedFiles.length === 0) {
                alert('Please select at least one image');
                return;
            }

            const message = document.getElementById('gallery-message');
            const submitBtn = document.querySelector('#gallery-form .btn');
            const originalText = submitBtn.textContent;

            message.textContent = 'Uploading...';
            submitBtn.innerHTML = '<span class="loading"></span> Uploading...';
            submitBtn.disabled = true;

            try {
                let uploadedCount = 0;
                const totalFiles = selectedFiles.length;

                for (const file of selectedFiles) {
                    // Convert image to base64
                    const base64Image = await fileToBase64(file);

                    await addDoc(collection(db, 'gallery'), {
                        src: base64Image,
                        title: file.name,
                        date: new Date().toLocaleDateString(),
                        fileSize: file.size,
                        createdAt: serverTimestamp()
                    });

                    uploadedCount++;
                }

                message.textContent = `Gallery images uploaded successfully! (${uploadedCount} images)`;
                message.style.color = 'green';
                
                // Reset form
                selectedFiles = [];
                galleryPreviews.innerHTML = '';
                galleryInput.value = '';
                submitBtn.innerHTML = originalText;
                submitBtn.disabled = false;
                
                // Refresh gallery
                fetchGalleryImages();
            } catch (error) {
                console.error('Gallery upload error:', error);
                message.textContent = `Error uploading gallery images: ${error.message}`;
                message.style.color = 'red';
                submitBtn.innerHTML = originalText;
                submitBtn.disabled = false;
            }
        });

        // Fetch and render existing gallery images with delete option
        async function fetchGalleryImages() {
            const galleryContainer = document.getElementById('gallery-items-container');
            galleryContainer.innerHTML = '';

            try {
                const galleryCollection = collection(db, 'gallery');
                const gallerySnapshot = await getDocs(galleryCollection);

                gallerySnapshot.forEach(docSnap => {
                    const galleryData = docSnap.data();
                    const galleryId = docSnap.id;

                    const galleryItemDiv = document.createElement('div');
                    galleryItemDiv.className = 'gallery-preview-item';
                    galleryItemDiv.dataset.id = galleryId;
                    galleryItemDiv.dataset.type = 'gallery';
                    galleryItemDiv.style.animationDelay = `${gallerySnapshot.docs.indexOf(docSnap) * 0.1}s`;

                    const img = document.createElement('img');
                    img.src = galleryData.src;
                    img.alt = galleryData.title;
                    galleryItemDiv.appendChild(img);

                    const removeBtn = document.createElement('button');
                    removeBtn.className = 'remove-btn';
                    removeBtn.innerHTML = '&times;';
                    removeBtn.addEventListener('click', () => {
                        showConfirmationDialog({
                            type: 'gallery',
                            id: galleryId
                        });
                    });

                    galleryItemDiv.appendChild(removeBtn);
                    galleryContainer.appendChild(galleryItemDiv);
                });
            } catch (error) {
                console.error('Error fetching gallery images:', error);
            }
        }

        // Mobile menu toggle
        const mobileMenuBtn = document.getElementById('mobile-menu');
        const navMenu = document.getElementById('nav-menu');

        mobileMenuBtn.addEventListener('click', () => {
            navMenu.classList.toggle('show');
        });

        // Close mobile menu when clicking outside
        document.addEventListener('click', (e) => {
            if (!mobileMenuBtn.contains(e.target) && !navMenu.contains(e.target)) {
                navMenu.classList.remove('show');
            }
        });

        // Close mobile menu after clicking a link
        document.querySelectorAll('#nav-menu a').forEach(link => {
            link.addEventListener('click', () => {
                navMenu.classList.remove('show');
            });
        });
    </script>
</body>
</html>